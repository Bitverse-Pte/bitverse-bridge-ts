!function(){"use strict";function e(){return window.flutter_inappwebview&&"function"==typeof window.flutter_inappwebview.callHandler}function n(){window.dispatchEvent(new Event("bitverseReady",{})),window.dispatchEvent(new Event("ethereum#initialized",{})),console.log("bitverse init success.")}function t(e){var n=new Error;return n.code=e.code,n.message=e.message,n.payload=e.payload,n}function r(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(n){return e=["getSystemInfo","getUserInfo","navigateTo","share","request","getWallets","selectedWallet"],window.bitverse={},e.forEach((function(e){window.bitverse[e]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(i){switch(i.label){case 0:return[4,window.flutter_inappwebview.callHandler("BitverseBridge",{method:e,arguments:n})];case 1:if("0000"===(r=i.sent()).code)return[2,r.payload];throw t(r)}}))}))}})),[2]}))}))}function i(){var e;return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(t){switch(t.label){case 0:return[4,null===(e=window.flutter_inappwebview)||void 0===e?void 0:e.callHandler("handlerWeb3Request",{name:"getConfig"})];case 1:return"0000"===(n=t.sent()).code&&window.ethereum.setConfig(n.payload),[2]}}))}))}function o(e){return __awaiter(this,void 0,void 0,(function(){var n,r,i;return __generator(this,(function(o){switch(o.label){case 0:return n=e.id,[4,window.flutter_inappwebview.callHandler("handlerWeb3Request",e)];case 1:return"0000"===(r=o.sent()).code?window.ethereum.sendResponse(n,r.payload):(i=t(r),window.ethereum.sendError(n,i)),[2]}}))}))}function a(n){var t=this;return new Promise((function(r){return __awaiter(t,void 0,void 0,(function(){var t=this;return __generator(this,(function(i){switch(i.label){case 0:return e()?[4,o(n)]:[3,2];case 1:return i.sent(),r(),[3,3];case 2:window.addEventListener("flutterInAppWebViewPlatformReady",(function(){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,o(n)];case 1:return e.sent(),r(),[2]}}))}))})),i.label=3;case 3:return[2]}}))}))}))}function _(){var n=this;return new Promise((function(t){return __awaiter(n,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return n=new bitversewallet.Provider({}),window.ethereum=n,window.web3=new bitversewallet.Web3(n),bitversewallet.postMessage=a,e()?[4,i()]:[3,2];case 1:return r.sent(),t(1),[3,3];case 2:window.addEventListener("flutterInAppWebViewPlatformReady",(function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,i()];case 1:return e.sent(),t(1),[2]}}))}))})),r.label=3;case 3:return[2]}}))}))}))}console.log('\n   ___      _      _                                             \n  | _ )    (_)    | |_    __ __    ___      _ _    ___     ___   \n  | _ \\    | |    |  _|   \\ V /   / -_)    | \'_|  (_-<    / -_)  \n  |___/   _|_|_   _\\__|   _\\_/_   \\___|   _|_|_   /__/_   \\___|  \n_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|_|"""""| \n"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\' \n'),Promise.all([r(),_()]).then(n).catch((function(e){console.error("bitverse init error:",e)}))}();
